adaptive:
  enabled: true
  filter_profiles:
    baseline:
      description: US RTH focus with moderate displacement
      min_displacement: 0.9
      require_killzone: true
      session_labels:
      - us_open
      - us_close
    breakout:
      description: Stronger momentum breakouts late session
      min_displacement: 1.2
      require_killzone: true
      session_labels:
      - us_close
    pullback:
      description: Early pullback entries after open
      require_killzone: true
      require_liquidity_sweep: true
      session_labels:
      - us_open
  min_fold_win_rate: 0.55
  min_trades_per_fold: 20
  risk_bounds:
    max: 0.005
    min: 0.002
  risk_step: 0.0003
  skip_negative_months: true
  state_path: spy_adaptive_state.json
  threshold_grid:
  - 0.55
  - 0.6
  - 0.65
  - 0.7
backtest:
  commission: 0.0035
  initial_capital: 6000
  mode: normal
  propfirm:
    initial_capital: 6000
    max_drawdown_pct: 0.1
    payout_cycle_days: 30
    per_trade_risk_pct: 0.004
  slippage: 0.01
data:
  alpaca:
    end: null
    start: '2019-01-01'
  folder: Data
  source: alpaca
  symbol: SPY
  timeframe_base: 5m
live_trading:
  account_type: paper
  broker: alpaca
  catchup_bars: 50
  enabled: false
  history_days: 120
  max_history_bars: 2000
  min_history_bars: 300
  order_type: market
  poll_interval_seconds: 60
  probability_threshold: 0.6
  qty: 5
  stop_multiple: 1.6
  symbol: SPY
  take_profit_multiple: 1.8
  time_in_force: day
ml:
  features_path: data/spy_features.parquet
  lgbm:
    boosting_type: gbdt
    colsample_bytree: 0.7
    learning_rate: 0.03
    max_depth: 7
    min_child_samples: 80
    min_split_gain: 0.01
    n_estimators: 1200
    num_leaves: 31
    objective: binary
    reg_alpha: 1.0
    reg_lambda: 3.0
    subsample: 0.8
  metadata_path: models/spy_metadata.json
  model_path: models/spy_lgbm.pkl
strategy:
  allow_daily_range_trades: true
  atr_period: 14
  breakeven_trigger_r: 1.0
  daily_trend_fast: 20
  daily_trend_range_threshold: 0.05
  daily_trend_slow: 80
  displacement_min_atr: 1.2
  entry_type_filter: both
  fvg_lookback: 8
  h4_swing_lookback: 40
  inducement_lookback: 10
  killzones:
    regular:
      end: '15:55'
      start: 09:30
  label_total_rr: 2.0
  label_window: 120
  liquidity_sweep_lookback: 12
  liquidity_sweep_tolerance: 0.001
  low_vol_ratio: 0.65
  max_trades_per_day: 3
  min_momentum: 0.1
  min_volume_zscore: 0.0
  model_threshold: 0.6
  momentum_period: 9
  ob_lookback: 15
  only_trade_after_14utc: true
  orb_bars: 9
  orb_end_hour: 15
  orb_end_minute: 0
  orb_start_hour: 14
  orb_start_minute: 30
  partial_close_15r: 0.25
  partial_close_2r: 0.25
  require_adx_filter: false
  require_atr_expansion: true
  require_bull_only: false
  require_discount_premium: true
  require_displacement: true
  require_inducement: true
  require_killzone_filter: false
  require_liquidity_sweep: true
  require_rsi_filter: false
  risk_percent: 0.4
  risk_percent_low_vol: 0.2
  session_filter:
  - regular
  sl_atr_mult: 1.6
  strategy_type: smc
  tp_atr_mult: 1.8
  trailing_start_profit: 1.0
  trailing_stop_atr: 0.8
  use_daily_trend_filter: true
  use_trailing_stop: true
timeframes:
  h1: 60
  h4: 240
  m30: 30
wfa:
  min_train_samples: 500
  refresh_months: 1
  slide_months: 1
  test_months: 3
  train_years: 3
