2025-11-21 19:37:56,853 - trading_bot - INFO - ============================================================
2025-11-21 19:37:56,854 - trading_bot - INFO - TRAIN AND BACKTEST SCRIPT
2025-11-21 19:37:56,854 - trading_bot - INFO - ============================================================
2025-11-21 19:37:56,854 - trading_bot - INFO - 
============================================================
2025-11-21 19:37:56,854 - trading_bot - INFO - STEP 1: TRAINING MODEL (2020-01-01 to 2024-12-31)
2025-11-21 19:37:56,854 - trading_bot - INFO - ============================================================
2025-11-21 19:37:56,854 - trading_bot - INFO - Loading data from Data/XAU_5m_data.csv
2025-11-21 19:38:01,861 - trading_bot - INFO - Training data loaded: 352856 rows (2020-01-02 06:00:00 to 2024-12-30 23:55:00)
2025-11-21 19:38:01,896 - trading_bot - INFO - Resampled: H4=7727, H1=29530
2025-11-21 19:38:25,495 - trading_bot - INFO - Detected 60577 FVGs and 25456 OBs
2025-11-21 19:38:25,496 - trading_bot - INFO - Generating candidates...
2025-11-21 19:38:29,924 - trading_bot - INFO - Scanning... 1.4% (5000/352856)
2025-11-21 19:38:33,881 - trading_bot - INFO - Scanning... 2.8% (10000/352856)
2025-11-21 19:38:38,783 - trading_bot - INFO - Scanning... 4.3% (15000/352856)
2025-11-21 19:38:42,258 - trading_bot - INFO - Scanning... 5.7% (20000/352856)
2025-11-21 19:38:51,920 - trading_bot - INFO - Scanning... 7.1% (25000/352856)
2025-11-21 19:38:58,140 - trading_bot - INFO - Scanning... 8.5% (30000/352856)
2025-11-21 19:39:02,418 - trading_bot - INFO - Scanning... 9.9% (35000/352856)
2025-11-21 19:39:07,994 - trading_bot - INFO - Scanning... 11.3% (40000/352856)
2025-11-21 19:39:12,922 - trading_bot - INFO - Scanning... 12.8% (45000/352856)
2025-11-21 19:39:21,530 - trading_bot - INFO - Scanning... 14.2% (50000/352856)
2025-11-21 19:39:25,104 - trading_bot - INFO - Scanning... 15.6% (55000/352856)
2025-11-21 19:39:31,946 - trading_bot - INFO - Scanning... 17.0% (60000/352856)
2025-11-21 19:39:40,311 - trading_bot - INFO - Scanning... 18.4% (65000/352856)
2025-11-21 19:39:46,299 - trading_bot - INFO - Scanning... 19.8% (70000/352856)
2025-11-21 19:39:48,744 - trading_bot - INFO - Scanning... 21.3% (75000/352856)
2025-11-21 19:39:52,835 - trading_bot - INFO - Scanning... 22.7% (80000/352856)
2025-11-21 19:39:58,339 - trading_bot - INFO - Scanning... 24.1% (85000/352856)
2025-11-21 19:40:04,217 - trading_bot - INFO - Scanning... 25.5% (90000/352856)
2025-11-21 19:40:10,441 - trading_bot - INFO - Scanning... 26.9% (95000/352856)
2025-11-21 19:40:19,020 - trading_bot - INFO - Scanning... 28.3% (100000/352856)
2025-11-21 19:40:25,183 - trading_bot - INFO - Scanning... 29.8% (105000/352856)
2025-11-21 19:40:29,974 - trading_bot - INFO - Scanning... 31.2% (110000/352856)
2025-11-21 19:40:35,316 - trading_bot - INFO - Scanning... 32.6% (115000/352856)
2025-11-21 19:40:42,461 - trading_bot - INFO - Scanning... 34.0% (120000/352856)
2025-11-21 19:40:51,018 - trading_bot - INFO - Scanning... 35.4% (125000/352856)
2025-11-21 19:41:01,153 - trading_bot - INFO - Scanning... 36.8% (130000/352856)
2025-11-21 19:41:05,831 - trading_bot - INFO - Scanning... 38.3% (135000/352856)
2025-11-21 19:41:15,094 - trading_bot - INFO - Scanning... 39.7% (140000/352856)
2025-11-21 19:41:21,672 - trading_bot - INFO - Scanning... 41.1% (145000/352856)
2025-11-21 19:41:30,128 - trading_bot - INFO - Scanning... 42.5% (150000/352856)
2025-11-21 19:41:33,061 - trading_bot - INFO - Scanning... 43.9% (155000/352856)
2025-11-21 19:41:41,238 - trading_bot - INFO - Scanning... 45.3% (160000/352856)
2025-11-21 19:41:45,183 - trading_bot - INFO - Scanning... 46.8% (165000/352856)
2025-11-21 19:41:48,429 - trading_bot - INFO - Scanning... 48.2% (170000/352856)
2025-11-21 19:42:01,991 - trading_bot - INFO - Scanning... 49.6% (175000/352856)
2025-11-21 19:42:11,531 - trading_bot - INFO - Scanning... 51.0% (180000/352856)
2025-11-21 19:42:19,484 - trading_bot - INFO - Scanning... 52.4% (185000/352856)
2025-11-21 19:42:28,368 - trading_bot - INFO - Scanning... 53.8% (190000/352856)
2025-11-21 19:42:32,062 - trading_bot - INFO - Scanning... 55.3% (195000/352856)
2025-11-21 19:42:42,100 - trading_bot - INFO - Scanning... 56.7% (200000/352856)
2025-11-21 19:42:49,928 - trading_bot - INFO - Scanning... 58.1% (205000/352856)
2025-11-21 19:42:56,026 - trading_bot - INFO - Scanning... 59.5% (210000/352856)
2025-11-21 19:42:58,914 - trading_bot - INFO - Scanning... 60.9% (215000/352856)
2025-11-21 19:43:09,833 - trading_bot - INFO - Scanning... 62.3% (220000/352856)
2025-11-21 19:43:20,606 - trading_bot - INFO - Scanning... 63.8% (225000/352856)
2025-11-21 19:43:28,617 - trading_bot - INFO - Scanning... 65.2% (230000/352856)
2025-11-21 19:43:36,772 - trading_bot - INFO - Scanning... 66.6% (235000/352856)
2025-11-21 19:43:44,403 - trading_bot - INFO - Scanning... 68.0% (240000/352856)
2025-11-21 19:43:54,644 - trading_bot - INFO - Scanning... 69.4% (245000/352856)
2025-11-21 19:44:01,093 - trading_bot - INFO - Scanning... 70.9% (250000/352856)
2025-11-21 19:44:10,755 - trading_bot - INFO - Scanning... 72.3% (255000/352856)
2025-11-21 19:44:16,964 - trading_bot - INFO - Scanning... 73.7% (260000/352856)
2025-11-21 19:44:26,390 - trading_bot - INFO - Scanning... 75.1% (265000/352856)
2025-11-21 19:44:30,497 - trading_bot - INFO - Scanning... 76.5% (270000/352856)
2025-11-21 19:44:36,800 - trading_bot - INFO - Scanning... 77.9% (275000/352856)
2025-11-21 19:44:47,847 - trading_bot - INFO - Scanning... 79.4% (280000/352856)
2025-11-21 19:44:53,304 - trading_bot - INFO - Scanning... 80.8% (285000/352856)
2025-11-21 19:44:58,405 - trading_bot - INFO - Scanning... 82.2% (290000/352856)
2025-11-21 19:45:04,394 - trading_bot - INFO - Scanning... 83.6% (295000/352856)
2025-11-21 19:45:16,193 - trading_bot - INFO - Scanning... 85.0% (300000/352856)
2025-11-21 19:45:22,207 - trading_bot - INFO - Scanning... 86.4% (305000/352856)
2025-11-21 19:45:29,741 - trading_bot - INFO - Scanning... 87.9% (310000/352856)
2025-11-21 19:45:47,590 - trading_bot - INFO - Scanning... 89.3% (315000/352856)
2025-11-21 19:46:00,871 - trading_bot - INFO - Scanning... 90.7% (320000/352856)
2025-11-21 19:46:10,654 - trading_bot - INFO - Scanning... 92.1% (325000/352856)
2025-11-21 19:46:16,805 - trading_bot - INFO - Scanning... 93.5% (330000/352856)
2025-11-21 19:46:24,569 - trading_bot - INFO - Scanning... 94.9% (335000/352856)
2025-11-21 19:46:34,314 - trading_bot - INFO - Scanning... 96.4% (340000/352856)
2025-11-21 19:46:42,556 - trading_bot - INFO - Scanning... 97.8% (345000/352856)
2025-11-21 19:46:57,682 - trading_bot - INFO - Scanning... 99.2% (350000/352856)
2025-11-21 19:47:07,048 - trading_bot - INFO - Generated 82115 training candidates
2025-11-21 19:47:07,049 - trading_bot - INFO - Training model...
2025-11-21 19:47:07,051 - trading_bot - INFO - Training LGBM with 82115 samples...
2025-11-21 19:47:13,024 - trading_bot - INFO - Model saved to models/lgbm_model.pkl
2025-11-21 19:47:13,024 - trading_bot - INFO - Model saved to models/lgbm_model.pkl
2025-11-21 19:47:13,024 - trading_bot - INFO - 
============================================================
2025-11-21 19:47:13,024 - trading_bot - INFO - STEP 2: BACKTESTING (2025-01-01 to 2025-10-31)
2025-11-21 19:47:13,024 - trading_bot - INFO - ============================================================
2025-11-21 19:47:13,024 - trading_bot - INFO - Loading data from Data/XAU_5m_data.csv
2025-11-21 19:47:17,754 - trading_bot - INFO - Backtest data loaded: 49528 rows (2025-01-02 01:00:00 to 2025-10-31 00:00:00)
2025-11-21 19:47:17,761 - trading_bot - INFO - Resampled: H4=1084, H1=4137
2025-11-21 19:47:21,109 - trading_bot - INFO - Detected 8762 FVGs and 5248 OBs
2025-11-21 19:47:21,109 - trading_bot - INFO - Generating candidates...
2025-11-21 19:47:22,879 - trading_bot - INFO - Scanning... 10.1% (5000/49528)
2025-11-21 19:47:24,685 - trading_bot - INFO - Scanning... 20.2% (10000/49528)
2025-11-21 19:47:26,867 - trading_bot - INFO - Scanning... 30.3% (15000/49528)
2025-11-21 19:47:28,952 - trading_bot - INFO - Scanning... 40.4% (20000/49528)
2025-11-21 19:47:31,030 - trading_bot - INFO - Scanning... 50.5% (25000/49528)
2025-11-21 19:47:34,494 - trading_bot - INFO - Scanning... 60.6% (30000/49528)
2025-11-21 19:47:37,416 - trading_bot - INFO - Scanning... 70.7% (35000/49528)
2025-11-21 19:47:39,294 - trading_bot - INFO - Scanning... 80.8% (40000/49528)
2025-11-21 19:47:40,741 - trading_bot - INFO - Scanning... 90.9% (45000/49528)
2025-11-21 19:47:43,056 - trading_bot - INFO - Generated 8226 backtest candidates
2025-11-21 19:47:43,056 - trading_bot - INFO - Loading trained model...
2025-11-21 19:47:43,064 - trading_bot - INFO - Model loaded from models/lgbm_model.pkl
2025-11-21 19:47:43,064 - trading_bot - INFO - Generating predictions...
2025-11-21 19:47:43,097 - trading_bot - INFO - Running backtest...
2025-11-21 19:47:43,099 - trading_bot - INFO - Backtesting 103 trades out of 8226 candidates...
2025-11-21 19:47:43,099 - trading_bot - INFO - Initial capital: $6000.00, Risk per trade: 0.50%
2025-11-21 19:47:43,099 - trading_bot - INFO - Progress: 1.0% (1/103) | Equity: $5955.58 | Win Rate: 0.0% (0W/0L)
2025-11-21 19:47:43,099 - trading_bot - INFO - Progress: 5.8% (6/103) | Equity: $6220.14 | Win Rate: 60.0% (3W/2L)
2025-11-21 19:47:43,100 - trading_bot - INFO - Progress: 10.7% (11/103) | Equity: $6120.42 | Win Rate: 50.0% (5W/5L)
2025-11-21 19:47:43,100 - trading_bot - INFO - Progress: 15.5% (16/103) | Equity: $6015.47 | Win Rate: 40.0% (6W/9L)
2025-11-21 19:47:43,100 - trading_bot - INFO - Progress: 20.4% (21/103) | Equity: $6383.87 | Win Rate: 50.0% (10W/10L)
2025-11-21 19:47:43,100 - trading_bot - INFO - Progress: 25.2% (26/103) | Equity: $6743.73 | Win Rate: 60.0% (15W/10L)
2025-11-21 19:47:43,101 - trading_bot - INFO - Progress: 30.1% (31/103) | Equity: $6735.05 | Win Rate: 60.0% (18W/12L)
2025-11-21 19:47:43,101 - trading_bot - INFO - Progress: 35.0% (36/103) | Equity: $6954.25 | Win Rate: 60.0% (21W/14L)
2025-11-21 19:47:43,101 - trading_bot - INFO - Progress: 39.8% (41/103) | Equity: $7294.53 | Win Rate: 65.0% (26W/14L)
2025-11-21 19:47:43,101 - trading_bot - INFO - Progress: 44.7% (46/103) | Equity: $7506.28 | Win Rate: 66.7% (30W/15L)
2025-11-21 19:47:43,101 - trading_bot - INFO - Progress: 49.5% (51/103) | Equity: $7622.83 | Win Rate: 66.0% (33W/17L)
2025-11-21 19:47:43,102 - trading_bot - INFO - Progress: 54.4% (56/103) | Equity: $7733.37 | Win Rate: 67.3% (37W/18L)
2025-11-21 19:47:43,102 - trading_bot - INFO - Progress: 59.2% (61/103) | Equity: $7558.42 | Win Rate: 63.3% (38W/22L)
2025-11-21 19:47:43,102 - trading_bot - INFO - Progress: 64.1% (66/103) | Equity: $7336.96 | Win Rate: 58.5% (38W/27L)
2025-11-21 19:47:43,102 - trading_bot - INFO - Progress: 68.9% (71/103) | Equity: $7138.02 | Win Rate: 54.3% (38W/32L)
2025-11-21 19:47:43,103 - trading_bot - INFO - Progress: 73.8% (76/103) | Equity: $6931.73 | Win Rate: 50.7% (38W/37L)
2025-11-21 19:47:43,103 - trading_bot - INFO - Progress: 78.6% (81/103) | Equity: $6724.45 | Win Rate: 47.5% (38W/42L)
2025-11-21 19:47:43,103 - trading_bot - INFO - Progress: 83.5% (86/103) | Equity: $6515.30 | Win Rate: 44.7% (38W/47L)
2025-11-21 19:47:43,103 - trading_bot - INFO - Progress: 88.3% (91/103) | Equity: $6296.12 | Win Rate: 42.2% (38W/52L)
2025-11-21 19:47:43,103 - trading_bot - INFO - Progress: 93.2% (96/103) | Equity: $6078.57 | Win Rate: 40.0% (38W/57L)
2025-11-21 19:47:43,104 - trading_bot - INFO - Progress: 98.1% (101/103) | Equity: $5856.73 | Win Rate: 38.0% (38W/62L)
2025-11-21 19:47:43,104 - trading_bot - INFO - Progress: 100.0% (103/103) | Equity: $5803.35 | Win Rate: 37.3% (38W/64L)
2025-11-21 19:47:43,104 - trading_bot - INFO - Backtest complete! Final Equity: $5803.35 | Total PnL: $-196.65 | Win Rate: 36.9% (38W/65L)
2025-11-21 19:47:43,541 - trading_bot - INFO - 
============================================================
2025-11-21 19:47:43,542 - trading_bot - INFO - BACKTEST RESULTS
2025-11-21 19:47:43,542 - trading_bot - INFO - ============================================================
2025-11-21 19:47:43,542 - trading_bot - INFO - Total Trades: 103
2025-11-21 19:47:43,542 - trading_bot - INFO - Net Profit: $-196.65
2025-11-21 19:47:43,542 - trading_bot - INFO - Win Rate: 36.9%
2025-11-21 19:47:43,542 - trading_bot - INFO - Profit Factor: 0.93
2025-11-21 19:47:43,542 - trading_bot - INFO - Reports saved to: reports/20251121_194743
2025-11-21 19:47:43,542 - trading_bot - INFO - 
============================================================
2025-11-21 19:47:43,542 - trading_bot - INFO - SCRIPT COMPLETE
2025-11-21 19:47:43,542 - trading_bot - INFO - ============================================================
